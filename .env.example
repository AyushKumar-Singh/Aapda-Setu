# =============================================================================
# Aapda Setu MVP - Environment Configuration
# =============================================================================
# 
# Copy this file to .env and configure your settings:
#   cp .env.example .env
#
# NEVER commit .env to version control!
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=5000
NODE_ENV=development

# =============================================================================
# DATABASE - MongoDB
# =============================================================================
# Local Docker: mongodb://127.0.0.1:27017/aapdasetu
# MongoDB Atlas: mongodb+srv://<user>:<pass>@cluster.mongodb.net/aapdasetu
#
# IMPORTANT: Use lowercase 'aapdasetu' for consistency
MONGODB_URI=mongodb://127.0.0.1:27017/aapdasetu

# =============================================================================
# CACHE - Redis (Optional)
# =============================================================================
# Server works without Redis (caching disabled)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
# Generate secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# ⚠️ CHANGE THIS IN PRODUCTION!
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_EXPIRES_IN=7d

# =============================================================================
# OLLAMA AI (Local LLM)
# =============================================================================
# Ollama must be running: ollama serve
# Model must be created: ollama create aapda-assistant -f backend/ollama/Modelfile
#
# Use 127.0.0.1 instead of localhost for reliability
OLLAMA_URL=http://127.0.0.1:11434
OLLAMA_MODEL=aapda-assistant

# =============================================================================
# ML SERVICES (Optional - for advanced features)
# =============================================================================
ML_CPU_URL=http://127.0.0.1:8000
ML_GPU_URL=http://127.0.0.1:8001
HMAC_SECRET=your-hmac-secret-for-ml-callbacks

# =============================================================================
# CORS & SECURITY
# =============================================================================
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5000

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# OPTIONAL SERVICES (Not required for MVP demo)
# =============================================================================

# Firebase Admin SDK (leave as dummy if not using)
FIREBASE_PROJECT_ID=dummy
FIREBASE_PRIVATE_KEY="dummy"
FIREBASE_CLIENT_EMAIL=dummy@dummy

# AWS S3 (leave as local if not using cloud storage)
AWS_REGION=local
AWS_ACCESS_KEY_ID=local
AWS_SECRET_ACCESS_KEY=local
S3_BUCKET_NAME=local

# Notifications (leave as local if not using)
FCM_SERVER_KEY=local
TWILIO_ACCOUNT_SID=local
TWILIO_AUTH_TOKEN=local
TWILIO_PHONE_NUMBER=+1234567890

# =============================================================================
# REQUIRED VALUES FOR MVP DEMO:
# =============================================================================
# ✅ MONGODB_URI - Must point to running MongoDB instance
# ✅ OLLAMA_URL  - Must point to running Ollama server
# ✅ JWT_SECRET  - Can use default for demo, CHANGE for production
#
# OPTIONAL VALUES:
# ⚪ REDIS_*     - Server works without Redis
# ⚪ ML_*        - Only needed for ML pipeline features
# ⚪ FIREBASE_*  - Only needed for push notifications
# ⚪ AWS_*       - Only needed for cloud media storage
# ⚪ TWILIO_*    - Only needed for SMS notifications
# =============================================================================
