# =============================================================================
# Aapda Setu API Gateway - Render Deployment Configuration
# =============================================================================
# Add these environment variables in the Render Dashboard → Environment tab
# =============================================================================

# Server (PORT is automatically set by Render, but include for local testing)
PORT=5000
NODE_ENV=production

# =============================================================================
# DATABASE - MongoDB Atlas (REQUIRED)
# =============================================================================
# Get connection string from: https://cloud.mongodb.com
# Format: mongodb+srv://<username>:<password>@<cluster>.mongodb.net/<database>
MONGODB_URI=mongodb+srv://your_user:your_password@your-cluster.mongodb.net/aapdasetu?retryWrites=true&w=majority

# =============================================================================
# CACHE - Redis Cloud (REQUIRED for queues/caching)
# =============================================================================
# Get credentials from: https://app.redislabs.com
REDIS_HOST=your-redis-host.redislabs.com
REDIS_PORT=12345
REDIS_PASSWORD=your_redis_password

# =============================================================================
# JWT AUTHENTICATION (REQUIRED)
# =============================================================================
# ⚠️ IMPORTANT: Generate a new secret for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
JWT_SECRET=your_production_jwt_secret_here
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_EXPIRES_IN=7d

# =============================================================================
# OLLAMA AI (OPTIONAL - Backend will fallback gracefully)
# =============================================================================
# Leave empty for Render deployment - Ollama requires local GPU
# The chatbot will return emergency helpline numbers as fallback
OLLAMA_URL=
OLLAMA_MODEL=aapda-assistant

# =============================================================================
# CORS - Frontend URLs (REQUIRED)
# =============================================================================
# Add all domains that need API access, comma-separated
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://your-frontend.onrender.com

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# OPTIONAL SERVICES (Use dummy values for MVP)
# =============================================================================

# Firebase (not required for MVP)
FIREBASE_PROJECT_ID=dummy
FIREBASE_PRIVATE_KEY="dummy"
FIREBASE_CLIENT_EMAIL=dummy@dummy

# AWS S3 (not required for MVP)
AWS_REGION=local
AWS_ACCESS_KEY_ID=local
AWS_SECRET_ACCESS_KEY=local
S3_BUCKET_NAME=local

# Notifications (not required for MVP)
FCM_SERVER_KEY=local
TWILIO_ACCOUNT_SID=local
TWILIO_AUTH_TOKEN=local
TWILIO_PHONE_NUMBER=+1234567890

# ML Services (optional - leave empty if not using)
ML_CPU_URL=
ML_GPU_URL=
HMAC_SECRET=your_hmac_secret_here
